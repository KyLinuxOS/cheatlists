<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Programmation orientée objet (POO) en PHP</title>
    <meta name="description" content="">
    <meta name="generator" content="VuePress 1.4.0">
    
    
    <link rel="preload" href="/assets/css/0.styles.5159a7ac.css" as="style"><link rel="preload" href="/assets/js/app.3373225f.js" as="script"><link rel="preload" href="/assets/js/2.17c583f6.js" as="script"><link rel="preload" href="/assets/js/50.70074ebd.js" as="script"><link rel="prefetch" href="/assets/js/10.b4d1b3a3.js"><link rel="prefetch" href="/assets/js/11.c8f7aace.js"><link rel="prefetch" href="/assets/js/12.7bd12b35.js"><link rel="prefetch" href="/assets/js/13.1054897d.js"><link rel="prefetch" href="/assets/js/14.5ee88194.js"><link rel="prefetch" href="/assets/js/15.1739ae11.js"><link rel="prefetch" href="/assets/js/16.70d6836b.js"><link rel="prefetch" href="/assets/js/17.e327651c.js"><link rel="prefetch" href="/assets/js/18.c8a9cd5f.js"><link rel="prefetch" href="/assets/js/19.d569a6b8.js"><link rel="prefetch" href="/assets/js/20.d5338874.js"><link rel="prefetch" href="/assets/js/21.d0e8934a.js"><link rel="prefetch" href="/assets/js/22.74aae183.js"><link rel="prefetch" href="/assets/js/23.843502c9.js"><link rel="prefetch" href="/assets/js/24.64901516.js"><link rel="prefetch" href="/assets/js/25.ab42496d.js"><link rel="prefetch" href="/assets/js/26.76ed493d.js"><link rel="prefetch" href="/assets/js/27.9abfd0b1.js"><link rel="prefetch" href="/assets/js/28.fb506986.js"><link rel="prefetch" href="/assets/js/29.b38c8826.js"><link rel="prefetch" href="/assets/js/3.38b4e726.js"><link rel="prefetch" href="/assets/js/30.ca31aff0.js"><link rel="prefetch" href="/assets/js/31.23152b20.js"><link rel="prefetch" href="/assets/js/32.a0ea3cae.js"><link rel="prefetch" href="/assets/js/33.b0f2f58c.js"><link rel="prefetch" href="/assets/js/34.9d011658.js"><link rel="prefetch" href="/assets/js/35.f72e4b5e.js"><link rel="prefetch" href="/assets/js/36.3d759a34.js"><link rel="prefetch" href="/assets/js/37.9143ce42.js"><link rel="prefetch" href="/assets/js/38.17248f95.js"><link rel="prefetch" href="/assets/js/39.10590b9f.js"><link rel="prefetch" href="/assets/js/4.5367d2a1.js"><link rel="prefetch" href="/assets/js/40.a9c3549a.js"><link rel="prefetch" href="/assets/js/41.14f648fc.js"><link rel="prefetch" href="/assets/js/42.d05fc50d.js"><link rel="prefetch" href="/assets/js/43.4b611c11.js"><link rel="prefetch" href="/assets/js/44.ea4c08ee.js"><link rel="prefetch" href="/assets/js/45.be37999b.js"><link rel="prefetch" href="/assets/js/46.181b4e79.js"><link rel="prefetch" href="/assets/js/47.2ad16c82.js"><link rel="prefetch" href="/assets/js/48.a0f2fed1.js"><link rel="prefetch" href="/assets/js/49.b0082922.js"><link rel="prefetch" href="/assets/js/5.b3addb3d.js"><link rel="prefetch" href="/assets/js/51.b4e90c5f.js"><link rel="prefetch" href="/assets/js/52.bd52113d.js"><link rel="prefetch" href="/assets/js/53.33165c0e.js"><link rel="prefetch" href="/assets/js/54.94b641d3.js"><link rel="prefetch" href="/assets/js/55.385667fb.js"><link rel="prefetch" href="/assets/js/56.005ec3a6.js"><link rel="prefetch" href="/assets/js/57.e0b13271.js"><link rel="prefetch" href="/assets/js/58.cf024cc5.js"><link rel="prefetch" href="/assets/js/59.5e9a48b7.js"><link rel="prefetch" href="/assets/js/6.94c105d3.js"><link rel="prefetch" href="/assets/js/60.0c338712.js"><link rel="prefetch" href="/assets/js/61.93dea659.js"><link rel="prefetch" href="/assets/js/62.6b94a7b9.js"><link rel="prefetch" href="/assets/js/63.1b413e17.js"><link rel="prefetch" href="/assets/js/64.cfa33430.js"><link rel="prefetch" href="/assets/js/65.5d0961ea.js"><link rel="prefetch" href="/assets/js/66.60cc065e.js"><link rel="prefetch" href="/assets/js/67.093ef777.js"><link rel="prefetch" href="/assets/js/68.80f668b9.js"><link rel="prefetch" href="/assets/js/69.d1822ce6.js"><link rel="prefetch" href="/assets/js/7.b48a6734.js"><link rel="prefetch" href="/assets/js/70.763b2a8c.js"><link rel="prefetch" href="/assets/js/71.5f6cc4dc.js"><link rel="prefetch" href="/assets/js/72.c8e75422.js"><link rel="prefetch" href="/assets/js/73.36373111.js"><link rel="prefetch" href="/assets/js/74.55e3933c.js"><link rel="prefetch" href="/assets/js/75.3c0a41e5.js"><link rel="prefetch" href="/assets/js/76.dd5d50bc.js"><link rel="prefetch" href="/assets/js/77.6abc6cb7.js"><link rel="prefetch" href="/assets/js/78.5016d529.js"><link rel="prefetch" href="/assets/js/79.705bb7a0.js"><link rel="prefetch" href="/assets/js/8.2093c426.js"><link rel="prefetch" href="/assets/js/80.b6308448.js"><link rel="prefetch" href="/assets/js/81.822c6e6d.js"><link rel="prefetch" href="/assets/js/82.61b82f6b.js"><link rel="prefetch" href="/assets/js/83.03baebdf.js"><link rel="prefetch" href="/assets/js/84.21336b08.js"><link rel="prefetch" href="/assets/js/85.0174bfd9.js"><link rel="prefetch" href="/assets/js/86.7705d264.js"><link rel="prefetch" href="/assets/js/87.0c450438.js"><link rel="prefetch" href="/assets/js/88.57afb038.js"><link rel="prefetch" href="/assets/js/89.902f0f2f.js"><link rel="prefetch" href="/assets/js/9.4224ed44.js"><link rel="prefetch" href="/assets/js/90.d2d107f3.js"><link rel="prefetch" href="/assets/js/91.132ef2df.js"><link rel="prefetch" href="/assets/js/92.79578481.js"><link rel="prefetch" href="/assets/js/93.3e021e53.js"><link rel="prefetch" href="/assets/js/94.53ca2856.js"><link rel="prefetch" href="/assets/js/95.30947a04.js">
    <link rel="stylesheet" href="/assets/css/0.styles.5159a7ac.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="programmation-orientee-objet-poo-en-php"><a href="#programmation-orientee-objet-poo-en-php" class="header-anchor">#</a> Programmation orientée objet (POO) en PHP</h1> <h2 id="principe-de-base"><a href="#principe-de-base" class="header-anchor">#</a> Principe de base</h2> <p>En POO, la <strong>classe</strong> correspond au plan de fabrication des <strong>objets</strong>.</p> <p>Prenons un exemple de la vie réelle, la construction de maisons. On va pouvoir faire plusieurs maisons, mettont une bleu, une rouge et une verte, à partir d'un même plan qu'on appellera <code>Maison</code> avec un 'M' majuscule. En POO, les <strong>objets</strong> sont les maisons construites et la <strong>classe</strong> est le plan <code>Maison</code>. On dit alors que ces maisons sont des instances de la classe <code>Maison</code>.</p> <h2 id="fil-rouge"><a href="#fil-rouge" class="header-anchor">#</a> Fil rouge</h2> <p>Pour présenter la POO, je vais utiliser un projet de liste de tâche à faire (to do list).</p> <h2 id="similitudes-avec-le-procedural"><a href="#similitudes-avec-le-procedural" class="header-anchor">#</a> Similitudes avec le procédural</h2> <p>Voici une fonction classique :</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">function</span> <span class="token function">addTask</span><span class="token punctuation">(</span><span class="token keyword">array</span> <span class="token operator">&amp;</span><span class="token variable">$todoList</span><span class="token punctuation">,</span> string <span class="token variable">$task</span><span class="token punctuation">)</span> <span class="token comment">// Ici le &amp; permet de passer le tableau par référence pour pouvoir modifier son contenu</span>
<span class="token punctuation">{</span>
    todoList<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token variable">$task</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Qu'on appellerait de cette manière :</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$todoList</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'Dormir'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'Manger'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'Coder'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token function">addTask</span><span class="token punctuation">(</span><span class="token variable">$todoList</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'Boire'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Et voici son équivalent en POO (on parle alors de méthode, mais c'est le même principe) :</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">class</span> <span class="token class-name">TodoList</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">function</span> <span class="token function">addTask</span><span class="token punctuation">(</span><span class="token keyword">array</span> <span class="token operator">&amp;</span><span class="token variable">$todoList</span><span class="token punctuation">,</span> string <span class="token variable">$task</span><span class="token punctuation">)</span> 
    <span class="token punctuation">{</span>
        todoList<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token variable">$task</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Qu'on appellerait de cette façon :</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$todoList</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'Dormir'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'Manger'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'Coder'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

TodoList<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">addTask</span><span class="token punctuation">(</span><span class="token variable">$todoList</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'Boire'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Cette nouvelle manière d'écrire le code permet d'isoler notre fonction <code>addTask()</code> dans notre classe <code>TodoList</code> (on parle d'encapsulation). Il y a un inconvénient : c'est plus long à écrire, mais plein d'avantages :</p> <ul><li>Toutes les fonctions relatives à la liste de tâche seront écrites dans la classe, ce qui permet de mieux s'organiser et d'avoir un code plus lisible.</li> <li>Notre fonction <code>addTask()</code> ne pourra pas entrer en conflit avec une autre fonction portant le même nom vu qu'on doit écrire le nom de la classe avant. Si manque de bol on a une autre classe <code>TodoList</code> ayant une méthode <code>addTask()</code> dans notre projet, alors on ajoutera un namespace (espace de nom) propre à notre classe pour les dissocier (plus d'info là-dessus après).</li></ul> <h1 id="differences-avec-le-procedural"><a href="#differences-avec-le-procedural" class="header-anchor">#</a> Différences avec le procédural</h1> <p>Pour l'instant notre méthode <code>addTask</code> est statique et s'utilise comme une fonction classique. Le top, ça serait d'avoir un objet TodoList qui contiendrait des tâches, comme ça on pourrait trimballer notre objet un peu partout dans notre code et toujours avoir la liste des tâches et les méthodes pour la modifier sous la main.</p> <p>En procédural, ça pourrait être un tableau qu'on appelerait $todoList et on appellerait la fonction <code>addTask()</code> :</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$todoList</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token function">addTask</span><span class="token punctuation">(</span><span class="token variable">$todoList</span><span class="token punctuation">,</span> <span class="token double-quoted-string string">&quot;Manger&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">addTask</span><span class="token punctuation">(</span><span class="token variable">$todoList</span><span class="token punctuation">,</span> <span class="token double-quoted-string string">&quot;Coder&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">addTask</span><span class="token punctuation">(</span><span class="token variable">$todoList</span><span class="token punctuation">,</span> <span class="token double-quoted-string string">&quot;Dormir&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>En POO, on va préférer intégrer ce tableau de tâche dans notre classe, comme ceci :</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">class</span> <span class="token class-name">TodoList</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token variable">$tasks</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">addTask</span><span class="token punctuation">(</span>string <span class="token variable">$task</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">tasks</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token variable">$task</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Notez que notre méthode <code>addTask</code> n'est plus statique : on a retiré le mot clé <code>static</code> et le paramètre <code>array &amp;$todoList</code> a disparu au profit d'une propriété <code>$tasks</code> placée dans la classe. Ainsi, chaque objet que l'on va créer à partir de la classe <code>TodoList</code> possèdera son propre tableau de tâche à faire, stocké dans la propriété <code>$tasks</code>.</p> <p>On modifie alors la propriété <code>$tasks</code> de l'objet dans notre méthode <code>addTask()</code> en utilisant <code>$this-&gt;tasks</code> où <code>$this</code> correspond à notre objet.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$todoList</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TodoList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>On peut alors utiliser notre méthode <code>addTask()</code> pour ajouter les tâches à faire :</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$todoList</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">addTask</span><span class="token punctuation">(</span><span class="token double-quoted-string string">&quot;Manger&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$todoList</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">addTask</span><span class="token punctuation">(</span><span class="token double-quoted-string string">&quot;Coder&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$todoList</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">addTask</span><span class="token punctuation">(</span><span class="token double-quoted-string string">&quot;Dormir&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Et accéder à la liste des tâches de cette manière :</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$tasks</span> <span class="token operator">=</span> <span class="token variable">$todoList</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">tasks</span><span class="token punctuation">;</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.3373225f.js" defer></script><script src="/assets/js/2.17c583f6.js" defer></script><script src="/assets/js/50.70074ebd.js" defer></script>
  </body>
</html>
