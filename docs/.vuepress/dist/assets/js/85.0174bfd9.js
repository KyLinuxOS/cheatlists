(window.webpackJsonp=window.webpackJsonp||[]).push([[85],{257:function(s,t,e){"use strict";e.r(t);var a=e(28),n=Object(a.a)({},(function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"sql"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#sql"}},[s._v("#")]),s._v(" SQL")]),s._v(" "),e("p",[e("em",[s._v("Note : les portions de code entre [ ] sont facultatives")])]),s._v(" "),e("h2",{attrs:{id:"regles-d-ecriture"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#regles-d-ecriture"}},[s._v("#")]),s._v(" Règles d'écriture")]),s._v(" "),e("div",{staticClass:"language-sql extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- Ceci est un commentaire SQL (marche aussi avec MySQL)")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Ceci est un commentaire MySQL")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Hello world!'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- Ceci est du code SQL affichant Hello world! et le résultat de 2 calculs")]),s._v("\n")])])]),e("h2",{attrs:{id:"utilisation"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#utilisation"}},[s._v("#")]),s._v(" Utilisation")]),s._v(" "),e("ul",[e("li",[s._v("Exécuter un fichier .sql\n"),e("ul",[e("li",[e("code",[s._v("SOURCE chemin/vers/nom_fichier.sql;")]),s._v(" exécute le code SQL contenu dans le fichier.")])])]),s._v(" "),e("li",[s._v("Bases de donnée\n"),e("ul",[e("li",[e("code",[s._v("SHOW DATABASES;")]),s._v(" affiche les bases de données disponibles.")]),s._v(" "),e("li",[e("code",[s._v("CREATE DATABASE nom_base_de_données [CHARSET 'utf8'];")]),s._v(" créé une base de données.")]),s._v(" "),e("li",[e("code",[s._v("DROP DATABASE [IF EXISTS] nom_base_de_données;")]),s._v(" supprime une base de données.")]),s._v(" "),e("li",[e("code",[s._v("USE nom_base_de_données")]),s._v(" sélectionne la base de données.")])])]),s._v(" "),e("li",[s._v("Tables\n"),e("ul",[e("li",[s._v("Informations\n"),e("ul",[e("li",[e("code",[s._v("SHOW TABLES;")]),s._v(" liste les tables de la base de données active.")]),s._v(" "),e("li",[e("code",[s._v("DESCRIBE nom_table;")]),s._v(" liste les colonnes de la table avec leurs caractéristiques.")])])]),s._v(" "),e("li",[s._v("Créer une table"),e("div",{staticClass:"language-sql extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("IF")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("EXISTS")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" nom_table "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    nom_colonne_1 caractéristiques_colonne_1"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n    nom_colonne_1 caractéristiques_colonne_2"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("PRIMARY")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("KEY")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("nom_colonne_clé_primaire"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ENGINE")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("nom_moteur"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),e("ul",[e("li",[e("code",[s._v("caractéristiques_colonne_1")]),s._v(" s'écrit de cette façon : "),e("code",[s._v("type_de_données [NOT NULL] [AUTO_INCREMENT] [DEFAULT valeur_par_défaut]")])]),s._v(" "),e("li",[e("code",[s._v("ENGINE=nom_moteur;")]),s._v(" sélectionne le moteur à utiliser, "),e("code",[s._v("InnoDB")]),s._v(" ou "),e("code",[s._v("MyISAM")]),s._v(". Préférer InnoDB car il gère les clés étrangères.")]),s._v(" "),e("li",[s._v("Exemple :"),e("div",{staticClass:"language-sql extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" task"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    id "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INT")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("NOT")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AUTO_INCREMENT")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    title "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VARCHAR")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("NOT")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    content "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TEXT")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("PRIMARY")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("KEY")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ENGINE")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("InnoDB")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])])])])]),s._v(" "),e("li",[s._v("Supprimer, vider une table\n"),e("ul",[e("li",[e("code",[s._v("DROP TABLE nom_table;")]),s._v(" supprime une table et ses données.")]),s._v(" "),e("li",[e("code",[s._v("TRUNCATE TABLE nom_table")]),s._v(" supprime toutes les données d'une table.")]),s._v(" "),e("li",[e("code",[s._v("DELETE FROM nom_table")]),s._v(" supprime toutes les données d'une table.")])])]),s._v(" "),e("li",[s._v("Supprimer les tables commençant par un préfix particulier\n"),e("ol",[e("li",[s._v("Génèrer une requête pour supprimer toutes les tables :"),e("div",{staticClass:"language-SQL extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" CONCAT"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'DROP TABLE '")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" GROUP_CONCAT"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("table_name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("';'")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" statement "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" information_schema"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("tables")]),s._v(" \n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" table_schema "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'database_name'")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("AND")]),s._v(" table_name "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("LIKE")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'myprefix_%'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])])]),s._v(" "),e("li",[s._v("Exécuter la requête générée.")])])])])])])])}),[],!1,null,null,null);t.default=n.exports}}]);