(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{336:function(e,s,r){"use strict";r.r(s);var a=r(28),t=Object(a.a)({},(function(){var e=this,s=e.$createElement,r=e._self._c||s;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h1",{attrs:{id:"linux-cheatlist"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#linux-cheatlist"}},[e._v("#")]),e._v(" Linux cheatlist")]),e._v(" "),r("p",[e._v("Liste réalisée à partir "),r("a",{attrs:{href:"https://openclassrooms.com/fr/courses/43538-reprenez-le-controle-a-laide-de-linux",target:"_blank",rel:"noopener noreferrer"}},[e._v("du cours de mateo21 sur OpenClassrooms"),r("OutboundLink")],1)]),e._v(" "),r("h2",{attrs:{id:"bureau-gnome"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#bureau-gnome"}},[e._v("#")]),e._v(" Bureau Gnome")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("ctl + alt + flèche haut/bas")]),e._v(" change de bureau.")]),e._v(" "),r("li",[r("code",[e._v("ctl + alt + shift + flèche haut/bas")]),e._v(" déplace l'application en cours sur un autre bureau.")])]),e._v(" "),r("h2",{attrs:{id:"changer-l-action-de-la-touche-poweroff"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#changer-l-action-de-la-touche-poweroff"}},[e._v("#")]),e._v(" Changer l'action de la touche poweroff")]),e._v(" "),r("blockquote",[r("p",[r("a",{attrs:{href:"https://askubuntu.com/questions/580902/how-to-change-mapping-for-the-poweroff-key-on-keyboard",target:"_blank",rel:"noopener noreferrer"}},[e._v("Réponse"),r("OutboundLink")],1)])]),e._v(" "),r("ol",[r("li",[e._v("Mettre "),r("em",[e._v("Settings > Power::Power Button Action")]),e._v(" à "),r("em",[e._v("Nothing")]),e._v(".")]),e._v(" "),r("li",[r("code",[e._v("sudo apt install xdotool")])]),e._v(" "),r("li",[r("code",[e._v("sudo touch /etc/acpi/events/power")]),e._v(" créé le fichier power et mettre ce contenu :"),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v('event=button/power\naction=/etc/acpi/power.sh "%e"\n')])])])]),e._v(" "),r("li",[r("code",[e._v("sudo touch /etc/acpi/power.sh && sudo chmod +x /etc/acpi/power.sh")]),e._v(" créé le script power.sh et mettre ce code :"),r("div",{staticClass:"language-bash extra-class"},[r("pre",{pre:!0,attrs:{class:"language-bash"}},[r("code",[r("span",{pre:!0,attrs:{class:"token shebang important"}},[e._v("#!/bin/sh")]),e._v("\nxdotool key End\n")])])]),e._v("ou directement :"),r("div",{staticClass:"language-bash extra-class"},[r("pre",{pre:!0,attrs:{class:"language-bash"}},[r("code",[r("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),r("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("echo")]),e._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[e._v('"#!/bin/sh \\\nxdotool key End"')]),e._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" /etc/acpi/power.sh "),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&&")]),e._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[e._v("chmod")]),e._v(" +x /etc/acpi/power.sh\n")])])])])]),e._v(" "),r("p",[e._v("sudo echo '#!/bin/sh "),r("br"),e._v("\necho Hello world!' > /opt/sandbox/hello.zog && sudo chmod +x /opt/sandbox/hello.zog")]),e._v(" "),r("ol",[r("li",[r("code",[e._v("sudo acpid restart")])]),e._v(" "),r("li",[e._v("Ajouter à la fin de "),r("code",[e._v("/etc/pam.d/common-session")]),e._v(" :"),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("session optional pam_exec.so /usr/sbin/acpid restart\n")])])])])]),e._v(" "),r("h2",{attrs:{id:"invite-de-commande"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#invite-de-commande"}},[e._v("#")]),e._v(" Invite de commande")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("nomUtilisateur@nomOrdinateur:~$")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("nomUtilisateur")]),e._v(" Nom de l'utilisateur courant")]),e._v(" "),r("li",[r("code",[e._v("@")]),e._v(' Séparateur "at" qui signifie "chez"')]),e._v(" "),r("li",[r("code",[e._v("nomOrdinateur")]),e._v(" Nom de l'ordinateur utilisé")]),e._v(" "),r("li",[r("code",[e._v(":")]),e._v(" Séparateur sans signification particulière")]),e._v(" "),r("li",[r("code",[e._v("~")]),e._v(" Répertoire courant, ici le dossier personnel de l'utilisateur courant")]),e._v(" "),r("li",[r("code",[e._v("$")]),e._v(" Niveau d'autorisation\n"),r("ul",[r("li",[r("code",[e._v("$")]),e._v(" Normal")]),e._v(" "),r("li",[r("code",[e._v("#")]),e._v(" Super utilisateur (pseudonyme "),r("em",[e._v("root")]),e._v(")")])])])])])]),e._v(" "),r("h2",{attrs:{id:"utilisateurs-et-les-droits"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#utilisateurs-et-les-droits"}},[e._v("#")]),e._v(" Utilisateurs et les droits")]),e._v(" "),r("ul",[r("li",[e._v("Super utilisateur root\n"),r("ul",[r("li",[r("code",[e._v("sudo nomCommande")]),e._v(" Exécuter une commande en tant que super utilisateur")]),e._v(" "),r("li",[r("code",[e._v("sudo su")]),e._v(" Passer en super utilisateur et le rester (le $ devient # dans l'invite de commande)\n"),r("ul",[r("li",[r("code",[e._v("exit")]),e._v(" Quitter le mode root")])])])])]),e._v(" "),r("li",[e._v("Gestion des utilisateurs #\n"),r("ul",[r("li",[r("code",[e._v("adduser nomUtilisateur")]),e._v(" Ajouter un utilisateur")]),e._v(" "),r("li",[r("code",[e._v("deluser nomUtilisateur")]),e._v(" Supprimer un utilisateur")]),e._v(" "),r("li",[r("code",[e._v("passwd nomUtilisateur")]),e._v(" Changer le mot de passe de l'utilisateur")])])]),e._v(" "),r("li",[e._v("Groupes #\n"),r("ul",[r("li",[r("code",[e._v("usermod -aG nomGroupe nomUtilisateur")]),e._v(" Ajoute l'utilisateur au groupe voulu")]),e._v(" "),r("li",[r("code",[e._v("newgrp nomGroupe")]),e._v(" Activer des changements précedemments opérés sur le groupe")])])])]),e._v(" "),r("h2",{attrs:{id:"paquets"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#paquets"}},[e._v("#")]),e._v(" Paquets")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("apt-get update")]),e._v(" Mettre à jour la liste des paquets")]),e._v(" "),r("li",[r("code",[e._v("apt-get upgrade")]),e._v(" Mettre à jour tous les paquets")]),e._v(" "),r("li",[r("code",[e._v("apt-cache search nomDuPaquet")]),e._v(" Chercher un paquet")]),e._v(" "),r("li",[r("code",[e._v("apt-get install nomDuPaquet")]),e._v(" Installer un paquet")])]),e._v(" "),r("h2",{attrs:{id:"fichiers-et-dossiers"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#fichiers-et-dossiers"}},[e._v("#")]),e._v(" Fichiers et dossiers")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("touch nomDuFichier")]),e._v(" Créer un fichier")]),e._v(" "),r("li",[r("code",[e._v("mdkir nomDuDossier")]),e._v(" Créer un dossier")]),e._v(" "),r("li",[r("code",[e._v("cat nomDuFichier")]),e._v(" Afficher le contenu d'un fichier")]),e._v(" "),r("li",[r("code",[e._v("less nomDuFichier")]),e._v(" Afficher le contenu d'un fichier page par page")])]),e._v(" "),r("h2",{attrs:{id:"flux-de-redirection"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#flux-de-redirection"}},[e._v("#")]),e._v(" Flux de redirection")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("\\>")]),e._v(", "),r("code",[e._v(">>")]),e._v(" et "),r("code",[e._v("|")]),e._v(" Rediriger les résultats d'une commande\n"),r("ul",[r("li",[r("code",[e._v("commande")]),e._v(" Dans la console (par défaut)")]),e._v(" "),r("li",[r("code",[e._v("commande > nomFichier")]),e._v(" Dans un fichier existant ou un nouveau")]),e._v(" "),r("li",[r("code",[e._v("commande >> nomFichier")]),e._v(" A la suite d'un fichier existant ou un nouveau")]),e._v(" "),r("li",[r("code",[e._v("commande1 | commande2")]),e._v(" Dans une autre commande")])])]),e._v(" "),r("li",[r("code",[e._v("2>")]),e._v(", "),r("code",[e._v("2>&1")]),e._v(" et "),r("code",[e._v("2>>")]),e._v(" Rediriger les erreurs\n"),r("ul",[r("li",[r("code",[e._v("commande 2> nomFichier")]),e._v(" Dans un fichier existant ou un nouveau")]),e._v(" "),r("li",[r("code",[e._v("commande > nomFichier 2>&1")]),e._v(" Dans le fichier utilisé par "),r("code",[e._v(">")])]),e._v(" "),r("li",[r("code",[e._v("commande 2>> nomFichier")]),e._v(" A la suite d'un fichier existant ou un nouveau")])])]),e._v(" "),r("li",[r("code",[e._v("<")]),e._v(" et "),r("code",[e._v("<<")]),e._v(" Modifier l'entrée d'une commande\n"),r("ul",[r("li",[r("code",[e._v("commande paramètre")]),e._v(" On entre le paramètre à la suite de la commande")]),e._v(" "),r("li",[r("code",[e._v("commande < nomFichier")]),e._v(" Le contenu du fichier est passé à la commande")]),e._v(" "),r("li",[r("code",[e._v("commande <<MOT_CLE_DE_FIN texteTapéAuClavier MOT_CLE_DE_FIN")]),e._v(" Envoyer progressivement du contenu à la commande au clavier")])])])]),e._v(" "),r("div",{staticClass:"language-bash extra-class"},[r("pre",{pre:!0,attrs:{class:"language-bash"}},[r("code",[r("span",{pre:!0,attrs:{class:"token function"}},[e._v("sort")]),e._v(" -n "),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<<")]),r("span",{pre:!0,attrs:{class:"token string"}},[e._v("MOT_CLE_DE_FIN\n1435\n32\n6\n64\nMOT_CLE_DE_FIN")]),e._v("\n")])])]),r("h2",{attrs:{id:"surveiller-l-activite-du-systeme"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#surveiller-l-activite-du-systeme"}},[e._v("#")]),e._v(" Surveiller l'activité du système")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("w")]),e._v(" Qui fait quoi ?")]),e._v(" "),r("li",[r("code",[e._v("ps")]),e._v(" Lister les processus en cours\n"),r("ul",[r("li",[r("code",[e._v("ps -ef")]),e._v(" Lister tous les processus de tous les utilisateurs de toutes les consoles")]),e._v(" "),r("li",[r("code",[e._v("ps -ejH")]),e._v(" Afficher l'arborescence des processus")]),e._v(" "),r("li",[r("code",[e._v("ps -u nomUtilisateur")]),e._v(" Lister les processus d'un utilisateur")])])]),e._v(" "),r("li",[r("code",[e._v("top")]),e._v(" Lister dynamiquement les processus\n"),r("ul",[r("li",[r("em",[e._v("q")]),e._v(" quitter")]),e._v(" "),r("li",[r("em",[e._v("h")]),e._v(" aide")]),e._v(" "),r("li",[r("em",[e._v("u")]),e._v(" filtre pour un utilisateur")]),e._v(" "),r("li",[r("em",[e._v("k")]),e._v(" tue un processus en donnant son PID")]),e._v(" "),r("li",[r("em",[e._v("s")]),e._v(" change le rafraichissement (défaut 3s)")])])]),e._v(" "),r("li",[r("em",[e._v("ctl + c")]),e._v(" arrête le processus en cours")]),e._v(" "),r("li",[r("code",[e._v("kill pidProcessus1 pidProcessus2")]),e._v(" Arrêter un ou plusieurs processus via les PID (disponibles avec "),r("code",[e._v("ps")]),e._v(" ou "),r("code",[e._v("top")]),e._v(")\n"),r("code",[e._v("kill -9 pidProcessus")]),e._v(" Arrêter un processus brutalement")]),e._v(" "),r("li",[r("code",[e._v("killall nomProcessus")]),e._v(" Arrêter tous les processus ayant le nom donné")]),e._v(" "),r("li",[r("code",[e._v("sudo halt")]),e._v(" Arrêter l'ordinateur")]),e._v(" "),r("li",[r("code",[e._v("sudo reboot")]),e._v(" Redémarrer l'ordinateur")]),e._v(" "),r("li",[r("code",[e._v("sudo shutdown [OPTIONS...] [TIME] [WALL...]")]),e._v(" Arrête l'ordinateur ou le redémarre\n"),r("ul",[r("li",[r("em",[e._v("TIME")]),e._v(" heure à laquelle exécuter la commande\n"),r("ul",[r("li",[r("code",[e._v("hh:mm")]),e._v(" Heure précise")]),e._v(" "),r("li",[r("code",[e._v("now")]),e._v(" ou "),r("code",[e._v("+0")]),e._v(" Maintenant")]),e._v(" "),r("li",[r("code",[e._v("+unNombre")]),e._v(" Dans un certain temps")])])]),e._v(" "),r("li",[r("em",[e._v("OPTIONS")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("-p")]),e._v(" ou "),r("code",[e._v("--poweroff")]),e._v(" Arrêter l'ordinateur (par défaut)")]),e._v(" "),r("li",[r("code",[e._v("-H")]),e._v(" ou "),r("code",[e._v("--halt")])]),e._v(" "),r("li",[r("code",[e._v("-r")]),e._v(" ou "),r("code",[e._v("--reboot")]),e._v(" Redémarrer")]),e._v(" "),r("li",[r("code",[e._v("-k")]),e._v(" Ne fait rien à par afficher le wall message")]),e._v(" "),r("li",[r("code",[e._v("-c")]),e._v(" Annuler un shutdown programmé")])])])])])]),e._v(" "),r("h2",{attrs:{id:"executer-des-programmes-en-arriere-plan"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#executer-des-programmes-en-arriere-plan"}},[e._v("#")]),e._v(" Exécuter des programmes en arrière plan")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("nomCommande paramètres &")]),e._v(" exécute la commande en arrière plan. Affiche le numéro du processus et l'identifiant du processus (PID).\n"),r("ul",[r("li",[r("code",[e._v("nomCommande paramètres 2>&1 &")]),e._v(" redirige aussi les erreurs.")])])]),e._v(" "),r("li",[r("code",[e._v("nohup nomCommande paramètres")]),e._v(" détache le processus de la console. La sortie est redirigée par défaut vers un fichier "),r("code",[e._v("nohup.out")]),e._v(" créé dans le dossier courant.")]),e._v(" "),r("li",[e._v("Passer un processus en cours en arrière plan\n"),r("ol",[r("li",[r("code",[e._v("ctl + z")]),e._v(" met en pause l'exécution du programme.")]),e._v(" "),r("li",[r("code",[e._v("bg")]),e._v(" passe le processus mis en pause en arrière plan et le réactive.")])])]),e._v(" "),r("li",[r("code",[e._v("jobs")]),e._v(" affiche la liste des processus en arrière plan.")]),e._v(" "),r("li",[r("code",[e._v("fg %numéroProcessus")]),e._v(" passe un processus au premier plan.")])]),e._v(" "),r("h2",{attrs:{id:"date"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#date"}},[e._v("#")]),e._v(" Date")]),e._v(" "),r("ul",[r("li",[r("code",[e._v('date "+%codeDate"')]),e._v(" affiche une partie de la date actuelle "),r("code",[e._v("%codeDate")]),e._v(" :\n"),r("ul",[r("li",[r("code",[e._v("%W")]),e._v(" numéro de la semaine.")]),e._v(" "),r("li",[r("code",[e._v("%A")]),e._v(" nom du jour.")]),e._v(" "),r("li",[e._v("On peut ajouter du texte et mettre plusieurs parties :\n"),r("ul",[r("li",[r("code",[e._v('date "+Nous sommes le %A de la semaine %W"')])])])])])])]),e._v(" "),r("h2",{attrs:{id:"executer-un-programme-a-une-heure-differee"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#executer-un-programme-a-une-heure-differee"}},[e._v("#")]),e._v(" Exécuter un programme à une heure différée")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("at")])])]),e._v(" "),r("h2",{attrs:{id:"acces-ssh"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#acces-ssh"}},[e._v("#")]),e._v(" Accès SSH")]),e._v(" "),r("ul",[r("li",[e._v("Connexion SSH simple\n"),r("ul",[r("li",[r("code",[e._v("ssh loginUtilisateur@ipServeur")]),e._v(" lance la connexion puis demande le mot de passe")]),e._v(" "),r("li",[r("code",[e._v("logout")]),e._v(" ou "),r("code",[e._v("ctl + D")]),e._v(" déconnecte l'utilisateur")])])]),e._v(" "),r("li",[e._v("Authentification par paire de clés\n"),r("ol",[r("li",[r("code",[e._v("ssh-keygen -t rsa")]),e._v(" ou "),r("code",[e._v("dsa")]),e._v(" demande une passphrase puis génère une paire de clés privée/publique\n"),r("ul",[r("li",[r("code",[e._v("~/.ssh/id_rsa.pub")]),e._v(" fichier de la clé publique")]),e._v(" "),r("li",[r("code",[e._v("~/.ssh/id_rsa")]),e._v(" fichier de la clé privée")])])]),e._v(" "),r("li",[r("code",[e._v("ssh-copy-id -i id_rsa.pub loginUtilisateur@ipServeur")]),e._v(" envoie la clé publique au serveur")]),e._v(" "),r("li",[r("code",[e._v("ssh loginUtilisateur@ipServeur")]),e._v(" connecte l'utilisteur et demande la passphrase")]),e._v(" "),r("li",[e._v("(optionel) "),r("code",[e._v("ssh-add")]),e._v(" permet d'ajouter la passphrase")])])]),e._v(" "),r("li",[e._v("Transformer son ordi en serveur\n"),r("ol",[r("li",[r("code",[e._v("sudo apt-get install openssh-server")]),e._v(" installe le serveur SSH")]),e._v(" "),r("li",[r("code",[e._v("sudo /etc/init.d/ssh/start")]),e._v(" démarre le serveur")]),e._v(" "),r("li",[r("code",[e._v("sudo /etc/init.d/ssh/stop")]),e._v(" arrête le serveur")])])]),e._v(" "),r("li",[e._v("Configuration\n"),r("ol",[r("li",[e._v("Modifier le fichier "),r("code",[e._v("/etc/ssh/ssh_config")])]),e._v(" "),r("li",[r("code",[e._v("sudo /etc/init.d/ssh reload")]),e._v(" prend en compte les changements")])])])]),e._v(" "),r("h2",{attrs:{id:"variables-d-environnement"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#variables-d-environnement"}},[e._v("#")]),e._v(" Variables d'environnement")]),e._v(" "),r("ul",[r("li",[e._v("Editer le fichier "),r("code",[e._v("~/.profile")]),e._v(".")]),e._v(" "),r("li",[r("code",[e._v("LANG=fr_FR.UTF-8")]),e._v(" modifie la variable d'environnement existante "),r("code",[e._v("LANG")])]),e._v(" "),r("li",[r("div",{staticClass:"language-bash extra-class"},[r("pre",{pre:!0,attrs:{class:"language-bash"}},[r("code",[e._v("  "),r("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("EDITOR")]),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("nano\n  "),r("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" EDITOR\n")])])]),e._v("créé une nouvelle variable d'environnement "),r("code",[e._v("EDITOR")]),e._v(". Peut être écrit sur une ligne : "),r("code",[e._v("export EDITOR=nano")])])]),e._v(" "),r("h2",{attrs:{id:"flush-dns-cache"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#flush-dns-cache"}},[e._v("#")]),e._v(" Flush DNS cache")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("sudo systemd-resolve --flush-caches")]),e._v(" flush le cache.\n"),r("ul",[r("li",[r("code",[e._v("sudo systemd-resolve --statistics")]),e._v(" montre que le cache a été vidé.")])])])])])}),[],!1,null,null,null);s.default=t.exports}}]);